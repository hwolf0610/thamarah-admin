<div class="row text-left">
    <div class="col-sm-12">
        <div class="content-header text-center text-primary">{{ 'CURRENCY_SETTINGS' | translate }}</div>
    </div>
</div>
<app-custom-loader *ngIf="isLoading"></app-custom-loader>
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card ">
            <div class="card-header pb-2">
            </div>
            <div class="card-content">
                <div class="px-3">
                    <div class="form">
                        <form #f="ngForm" (ngSubmit)="updateCurrency()">
                            <div class="form-body" *ngIf="worldCurrencies">
                                <div class="form-group">
                                    <label>{{ 'CURRENCY_CODE' | translate }}</label>
                                    <select class="form-control" name="currencyCode" [(ngModel)]="currency.currencyCode"
                                            (change)="currency.currencySymbol = worldCurrencies[currency.currencyCode].symbol"
                                            required #currencyCode="ngModel">
                                        <option disabled>{{ "CURRENCY_CODE" | translate }}</option>
                                        <option *ngFor="let currency of worldCurrencies | keyvalue"
                                                [value]="currency.key">{{ currency.key }}
                                        </option>
                                    </select>
                                    <span class="help-block"
                                          *ngIf="currencyCode?.touched && currencyCode?.errors?.required">
                                        <small class="text-danger">{{ "THIS_FIELD_IS_REQUIRED*" | translate }}</small>
                                    </span>
                                </div>
                                <div class="form-group">
                                    <label>{{ 'CURRENCY_SYMBOL' | translate }}</label>
                                    <input type="text" id="companyName" class="form-control"
                                           [(ngModel)]="currency.currencySymbol" readonly
                                           name="currencySymbol" required>
                                </div>
                            </div>

                            <div class=" form-actions">
                                <button type="submit" class="btn btn-raised btn-raised add-modules mr-2"
                                        [disabled]="f.invalid">
                                    <i class="fa fa-check-square-o"></i> {{ 'SUBMIT' | translate }}
                                </button>
                                <button type="button" class="btn btn-raised btn-raised btn-warning mr-1"
                                        routerLink="/dashboard">
                                    <i class="ft-x"></i>{{ 'CANCEL' | translate }}
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
